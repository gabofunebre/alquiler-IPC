<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tabla de alquiler</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container py-4">
    <h1 class="h4 mb-4">Tabla de alquiler</h1>
    {% if tabla %}
    <div class="text-end mb-2">Fecha de hoy: {{ fecha_hoy }}</div>
    <table class="table table-striped table-bordered">
      <thead>
        <tr><th>Mes</th><th>IPC</th><th>Valor</th><th></th></tr>
      </thead>
      <tbody>
        {% for fila in tabla %}
        <tr class="{% if fila.future %}opacity-50{% endif %}{% if fila.tipo == 'ajuste' %} fst-italic{% endif %}">
          <td>{{ fila.mes }}</td>

          <td>{% if fila.ipc is defined and fila.ipc is not none %}{{ '{:.1f}'.format(fila.ipc)|replace('.', ',') }}%{% endif %}</td>
          <td>{% if fila.valor is not none %}${{ '{:,.0f}'.format(fila.valor) }}{% endif %}</td>
          <td>{% if fila.provisorio is defined and fila.provisorio %}<span class="badge bg-warning text-dark">Provisorio</span>{% endif %}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <div class="alert alert-info">No hay datos de configuración. Ingresá a <a href="{{ url_for('admin') }}">/adm</a> para cargarlos.</div>
    {% endif %}
  </div>
</body>
</html>
